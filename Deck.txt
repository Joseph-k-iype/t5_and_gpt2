PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>

CONSTRUCT {
    # All subject-predicate-object triples
    ?s ?p ?o .
    
    # Explicit class information
    ?s rdf:type ?class .
    
    # Class hierarchy information
    ?class rdfs:subClassOf ?superClass .
    ?class rdf:type owl:Class .
    
    # Property information
    ?p rdf:type ?propertyType .
    ?p rdfs:domain ?domain .
    ?p rdfs:range ?range .
    
    # Labels and comments for better understanding
    ?s rdfs:label ?sLabel .
    ?p rdfs:label ?pLabel .
    ?o rdfs:label ?oLabel .
    ?s rdfs:comment ?sComment .
    ?p rdfs:comment ?pComment .
    ?o rdfs:comment ?oComment .
}
WHERE {
    # Get all triples
    ?s ?p ?o .
    
    # Optional class information
    OPTIONAL { ?s rdf:type ?class }
    
    # Optional class hierarchy
    OPTIONAL { 
        ?class rdfs:subClassOf ?superClass .
        ?class rdf:type owl:Class 
    }
    
    # Optional property type information
    OPTIONAL { 
        ?p rdf:type ?propertyType .
        FILTER(?propertyType IN (rdf:Property, owl:ObjectProperty, owl:DatatypeProperty, owl:AnnotationProperty))
    }
    
    # Optional property domain and range
    OPTIONAL { ?p rdfs:domain ?domain }
    OPTIONAL { ?p rdfs:range ?range }
    
    # Optional labels and comments
    OPTIONAL { ?s rdfs:label ?sLabel }
    OPTIONAL { ?p rdfs:label ?pLabel }
    OPTIONAL { ?o rdfs:label ?oLabel }
    OPTIONAL { ?s rdfs:comment ?sComment }
    OPTIONAL { ?p rdfs:comment ?pComment }
    OPTIONAL { ?o rdfs:comment ?oComment }
}
