# Legislation Rules Ontology - COMPLETE VERSION
# Complete ontology definition for AI-powered legislation analysis and rule extraction
# Version: 1.0.0
# Author: Legislation Rules Converter Team

@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .

# External Ontologies
@prefix dpv: <https://w3id.org/dpv#> .
@prefix dpv-pd: <https://w3id.org/dpv/dpv-pd#> .
@prefix dpv-tech: <https://w3id.org/dpv/tech#> .
@prefix dpv-legal: <https://w3id.org/dpv/legal/> .
@prefix dpvcg: <https://w3id.org/dpv/> .
@prefix odrl: <http://www.w3.org/ns/odrl/2/> .

# Custom Namespaces
@prefix rules: <https://w3id.org/legislation-rules#> .
@prefix actions: <https://w3id.org/dpv/actions#> .
@prefix odre: <https://w3id.org/def/odre#> .

# Ontology Declaration
<https://w3id.org/legislation-rules#> a owl:Ontology ;
    dc:title "Legislation Rules Ontology" ;
    dc:description "Comprehensive ontology for AI-powered legislation analysis and rule extraction with dual action inference" ;
    dc:creator "Legislation Rules Converter Team" ;
    dcterms:created "2025-01-31"^^xsd:date ;
    dcterms:modified "2025-01-31"^^xsd:date ;
    owl:versionInfo "1.0.0" ;
    rdfs:comment "This ontology defines classes and properties for extracting, analyzing, and representing legislation rules with organizational and user actions" .

# =============================================================================
# CORE CLASSES - COMPLETE SET
# =============================================================================

rules:LegislationRule a owl:Class ;
    rdfs:label "Legislation Rule" ;
    rdfs:comment "A rule extracted from legislation text with conditions, actions, and metadata" ;
    rdfs:subClassOf odre:EnforceablePolicy ;
    rdfs:subClassOf dpv:ProcessingActivity .

rules:RuleAction a owl:Class ;
    rdfs:label "Rule Action" ;
    rdfs:comment "Organizational action that must be taken based on legislation requirements" ;
    rdfs:subClassOf actions:Action ;
    rdfs:subClassOf odrl:Action .

rules:UserAction a owl:Class ;
    rdfs:label "User Action" ;
    rdfs:comment "Individual action that users can perform based on legislation requirements" ;
    rdfs:subClassOf actions:Action ;
    rdfs:subClassOf odrl:Action .

rules:RuleCondition a owl:Class ;
    rdfs:label "Rule Condition" ;
    rdfs:comment "Individual condition within a rule that can be evaluated" ;
    rdfs:subClassOf odrl:Constraint .

rules:RuleEvent a owl:Class ;
    rdfs:label "Rule Event" ;
    rdfs:comment "Event triggered when rule conditions are met" .

rules:DecisionLogic a owl:Class ;
    rdfs:label "Decision Logic" ;
    rdfs:comment "Logic structure containing conditions with AND/OR/NOT relationships" .

rules:IntegratedRule a owl:Class ;
    rdfs:label "Integrated Rule" ;
    rdfs:comment "Unified rule combining DPV, ODRL, and ODRE elements" ;
    rdfs:subClassOf rules:LegislationRule .

rules:DocumentChunk a owl:Class ;
    rdfs:label "Document Chunk" ;
    rdfs:comment "A portion of a document used for chunked processing" .

rules:CountryMetadata a owl:Class ;
    rdfs:label "Country Metadata" ;
    rdfs:comment "Metadata configuration for country-specific legislation processing" .

rules:ExtractionResult a owl:Class ;
    rdfs:label "Extraction Result" ;
    rdfs:comment "Complete result of legislation analysis including rules and metadata" .

# Service Classes (Implementation-related)
rules:OpenAIService a owl:Class ;
    rdfs:label "OpenAI Service" ;
    rdfs:comment "Service for OpenAI API interactions" .

rules:MetadataManager a owl:Class ;
    rdfs:label "Metadata Manager" ;
    rdfs:comment "Manager for legislation metadata configuration" .

rules:RuleManager a owl:Class ;
    rdfs:label "Rule Manager" ;
    rdfs:comment "Manager for existing rules" .

rules:PDFProcessor a owl:Class ;
    rdfs:label "PDF Processor" ;
    rdfs:comment "PDF processing functionality with dynamic chunking" .

rules:MultiLevelPDFProcessor a owl:Class ;
    rdfs:label "Multi-Level PDF Processor" ;
    rdfs:comment "Process PDFs from multiple document levels with chunking support" .

rules:StandardsConverter a owl:Class ;
    rdfs:label "Standards Converter" ;
    rdfs:comment "Converts between JSON Rules Engine and integrated DPV+ODRL+ODRE format" .

rules:PromptingStrategies a owl:Class ;
    rdfs:label "Prompting Strategies" ;
    rdfs:comment "Anti-hallucination prompting strategies for legislation analysis" .

rules:SafeJsonParser a owl:Class ;
    rdfs:label "Safe JSON Parser" ;
    rdfs:comment "Safe JSON parsing with error handling" .

rules:LegislationAnalyzer a owl:Class ;
    rdfs:label "Legislation Analyzer" ;
    rdfs:comment "Main analyzer with enhanced dual action inference and chunking support" .

# =============================================================================
# ENUMERATION CLASSES
# =============================================================================

rules:DataDomain a owl:Class ;
    rdfs:label "Data Domain" ;
    rdfs:comment "Domains of data processing activities" .

rules:DataRole a owl:Class ;
    rdfs:label "Data Role" ;
    rdfs:comment "Roles in data processing as defined by privacy regulations" ;
    rdfs:subClassOf dpv:LegalRole .

rules:DataCategory a owl:Class ;
    rdfs:label "Data Category" ;
    rdfs:comment "Categories of personal data as defined by privacy regulations" ;
    rdfs:subClassOf dpv:PersonalData .

rules:ConditionOperator a owl:Class ;
    rdfs:label "Condition Operator" ;
    rdfs:comment "Operators for evaluating rule conditions" .

rules:DocumentLevel a owl:Class ;
    rdfs:label "Document Level" ;
    rdfs:comment "Processing levels for legislation documents" .

rules:ProcessingPurpose a owl:Class ;
    rdfs:label "Processing Purpose" ;
    rdfs:comment "GDPR-compliant purposes for data processing" ;
    rdfs:subClassOf dpv:Purpose .

rules:LegalBasis a owl:Class ;
    rdfs:label "Legal Basis" ;
    rdfs:comment "GDPR-compliant legal basis for data processing" ;
    rdfs:subClassOf dpv:LegalBasis .

rules:ProcessingOperation a owl:Class ;
    rdfs:label "Processing Operation" ;
    rdfs:comment "Data processing operations from DPV concepts" ;
    rdfs:subClassOf dpv:Processing .

# =============================================================================
# OBJECT PROPERTIES - COMPLETE SET
# =============================================================================

# Core Rule Relationships
rules:hasDecisionLogic a owl:ObjectProperty ;
    rdfs:label "has decision logic" ;
    rdfs:comment "Links a rule to its decision logic structure" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range rules:DecisionLogic .

rules:hasCondition a owl:ObjectProperty ;
    rdfs:label "has condition" ;
    rdfs:comment "Links decision logic to individual conditions" ;
    rdfs:domain rules:DecisionLogic ;
    rdfs:range rules:RuleCondition .

rules:hasRuleAction a owl:ObjectProperty ;
    rdfs:label "has rule action" ;
    rdfs:comment "Links a rule to organizational actions" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range rules:RuleAction .

rules:hasUserAction a owl:ObjectProperty ;
    rdfs:label "has user action" ;
    rdfs:comment "Links a rule to user actions" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range rules:UserAction .

rules:hasEvent a owl:ObjectProperty ;
    rdfs:label "has event" ;
    rdfs:comment "Links a rule to its triggering event" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range rules:RuleEvent .

# Condition Relationships
rules:hasDataDomain a owl:ObjectProperty ;
    rdfs:label "has data domain" ;
    rdfs:comment "Links conditions to applicable data domains" ;
    rdfs:domain rules:RuleCondition ;
    rdfs:range rules:DataDomain .

rules:hasRole a owl:ObjectProperty ;
    rdfs:label "has role" ;
    rdfs:comment "Links conditions to applicable roles" ;
    rdfs:domain rules:RuleCondition ;
    rdfs:range rules:DataRole .

rules:hasDocumentLevel a owl:ObjectProperty ;
    rdfs:label "has document level" ;
    rdfs:comment "Links conditions to document processing levels" ;
    rdfs:domain rules:RuleCondition ;
    rdfs:range rules:DocumentLevel .

rules:hasOperator a owl:ObjectProperty ;
    rdfs:label "has operator" ;
    rdfs:comment "Links conditions to evaluation operators" ;
    rdfs:domain rules:RuleCondition ;
    rdfs:range rules:ConditionOperator .

# Rule Role and Category Relationships
rules:hasPrimaryRole a owl:ObjectProperty ;
    rdfs:label "has primary role" ;
    rdfs:comment "Links rules to primary impacted roles" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range rules:DataRole .

rules:hasSecondaryRole a owl:ObjectProperty ;
    rdfs:label "has secondary role" ;
    rdfs:comment "Links rules to secondary impacted roles" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range rules:DataRole .

rules:hasDataCategory a owl:ObjectProperty ;
    rdfs:label "has data category" ;
    rdfs:comment "Links rules to applicable data categories" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range rules:DataCategory .

rules:hasProcessingPurpose a owl:ObjectProperty ;
    rdfs:label "has processing purpose" ;
    rdfs:comment "Links rules to processing purposes" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range rules:ProcessingPurpose .

rules:hasLegalBasis a owl:ObjectProperty ;
    rdfs:label "has legal basis" ;
    rdfs:comment "Links rules to legal basis" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range rules:LegalBasis .

rules:hasProcessingOperation a owl:ObjectProperty ;
    rdfs:label "has processing operation" ;
    rdfs:comment "Links rules to processing operations" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range rules:ProcessingOperation .

# Integration Relationships
rules:originalRule a owl:ObjectProperty ;
    rdfs:label "original rule" ;
    rdfs:comment "Links integrated rules to their original source rules" ;
    rdfs:domain rules:IntegratedRule ;
    rdfs:range rules:LegislationRule .

# Document Relationships
rules:hasDocumentChunk a owl:ObjectProperty ;
    rdfs:label "has document chunk" ;
    rdfs:comment "Links documents to their chunks" ;
    rdfs:range rules:DocumentChunk .

rules:hasCountryMetadata a owl:ObjectProperty ;
    rdfs:label "has country metadata" ;
    rdfs:comment "Links to country metadata configuration" ;
    rdfs:range rules:CountryMetadata .

rules:hasExtractionResult a owl:ObjectProperty ;
    rdfs:label "has extraction result" ;
    rdfs:comment "Links to extraction results" ;
    rdfs:range rules:ExtractionResult .

# DPV Integration Properties
rules:dpv_hasProcessing a owl:ObjectProperty ;
    rdfs:label "DPV has processing" ;
    rdfs:comment "DPV processing operations" ;
    owl:equivalentProperty dpv:hasProcessing .

rules:dpv_hasPurpose a owl:ObjectProperty ;
    rdfs:label "DPV has purpose" ;
    rdfs:comment "DPV purposes for processing" ;
    owl:equivalentProperty dpv:hasPurpose .

rules:dpv_hasPersonalData a owl:ObjectProperty ;
    rdfs:label "DPV has personal data" ;
    rdfs:comment "DPV personal data categories" ;
    owl:equivalentProperty dpv:hasPersonalData .

rules:dpv_hasDataController a owl:ObjectProperty ;
    rdfs:label "DPV has data controller" ;
    rdfs:comment "DPV data controller" ;
    owl:equivalentProperty dpv:hasDataController .

rules:dpv_hasDataProcessor a owl:ObjectProperty ;
    rdfs:label "DPV has data processor" ;
    rdfs:comment "DPV data processor" ;
    owl:equivalentProperty dpv:hasDataProcessor .

rules:dpv_hasLegalBasis a owl:ObjectProperty ;
    rdfs:label "DPV has legal basis" ;
    rdfs:comment "DPV legal basis for processing" ;
    owl:equivalentProperty dpv:hasLegalBasis .

rules:dpv_hasLocation a owl:ObjectProperty ;
    rdfs:label "DPV has location" ;
    rdfs:comment "DPV processing locations/countries" ;
    owl:equivalentProperty dpv:hasLocation .

rules:dpv_hasRuleAction a owl:ObjectProperty ;
    rdfs:label "DPV has rule action" ;
    rdfs:comment "DPV rule actions inferred from legislation" .

rules:dpv_hasUserAction a owl:ObjectProperty ;
    rdfs:label "DPV has user action" ;
    rdfs:comment "DPV user actions inferred from legislation" .

# Property Chains
rules:hasConditionOperator owl:propertyChainAxiom ( rules:hasDecisionLogic rules:hasCondition rules:hasOperator ) .

rules:hasConditionRole owl:propertyChainAxiom ( rules:hasDecisionLogic rules:hasCondition rules:hasRole ) .

rules:hasConditionDataDomain owl:propertyChainAxiom ( rules:hasDecisionLogic rules:hasCondition rules:hasDataDomain ) .

# =============================================================================
# DATA PROPERTIES - COMPLETE SET
# =============================================================================

# Core Rule Properties
rules:ruleId a owl:DatatypeProperty ;
    rdfs:label "rule ID" ;
    rdfs:comment "Unique identifier for a rule" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range xsd:string .

rules:name a owl:DatatypeProperty ;
    rdfs:label "name" ;
    rdfs:comment "Human-readable name of the rule" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range xsd:string .

rules:description a owl:DatatypeProperty ;
    rdfs:label "description" ;
    rdfs:comment "Human-readable description" ;
    rdfs:range xsd:string .

rules:sourceArticle a owl:DatatypeProperty ;
    rdfs:label "source article" ;
    rdfs:comment "Source legislation article or section" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range xsd:string .

rules:sourceFile a owl:DatatypeProperty ;
    rdfs:label "source file" ;
    rdfs:comment "Source document filename" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range xsd:string .

rules:priority a owl:DatatypeProperty ;
    rdfs:label "priority" ;
    rdfs:comment "Priority level (1-10)" ;
    rdfs:range xsd:integer .

rules:confidenceScore a owl:DatatypeProperty ;
    rdfs:label "confidence score" ;
    rdfs:comment "Extraction confidence score (0.0-1.0)" ;
    rdfs:range xsd:float .

rules:extractedAt a owl:DatatypeProperty ;
    rdfs:label "extracted at" ;
    rdfs:comment "Timestamp when rule was extracted" ;
    rdfs:range xsd:dateTime .

rules:extractionMethod a owl:DatatypeProperty ;
    rdfs:label "extraction method" ;
    rdfs:comment "Method used for rule extraction" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range xsd:string .

# Action Properties - Rule Actions
rules:actionId a owl:DatatypeProperty ;
    rdfs:label "action ID" ;
    rdfs:comment "Unique action identifier" ;
    rdfs:range xsd:string .

rules:actionType a owl:DatatypeProperty ;
    rdfs:label "action type" ;
    rdfs:comment "Type of action" ;
    rdfs:range xsd:string .

rules:title a owl:DatatypeProperty ;
    rdfs:label "title" ;
    rdfs:comment "Action title" ;
    rdfs:range xsd:string .

rules:legislativeRequirement a owl:DatatypeProperty ;
    rdfs:label "legislative requirement" ;
    rdfs:comment "Specific legislative requirement" ;
    rdfs:range xsd:string .

rules:dataImpact a owl:DatatypeProperty ;
    rdfs:label "data impact" ;
    rdfs:comment "Impact on data processing" ;
    rdfs:domain rules:RuleAction ;
    rdfs:range xsd:string .

rules:responsibleRole a owl:DatatypeProperty ;
    rdfs:label "responsible role" ;
    rdfs:comment "Role responsible for action" ;
    rdfs:domain rules:RuleAction ;
    rdfs:range xsd:string .

rules:timeline a owl:DatatypeProperty ;
    rdfs:label "timeline" ;
    rdfs:comment "Timeline for action completion" ;
    rdfs:range xsd:string .

rules:derivedFromText a owl:DatatypeProperty ;
    rdfs:label "derived from text" ;
    rdfs:comment "Legislative text that supports this action" ;
    rdfs:range xsd:string .

# User Action Properties
rules:complianceOutcome a owl:DatatypeProperty ;
    rdfs:label "compliance outcome" ;
    rdfs:comment "Compliance outcome achieved" ;
    rdfs:domain rules:UserAction ;
    rdfs:range xsd:string .

rules:userRoleContext a owl:DatatypeProperty ;
    rdfs:label "user role context" ;
    rdfs:comment "User's role context for action" ;
    rdfs:domain rules:UserAction ;
    rdfs:range xsd:string .

# Array Properties (multiple values)
rules:dataSpecificStep a owl:DatatypeProperty ;
    rdfs:label "data specific step" ;
    rdfs:comment "Specific step for data handling" ;
    rdfs:domain rules:RuleAction ;
    rdfs:range xsd:string .

rules:verificationMethod a owl:DatatypeProperty ;
    rdfs:label "verification method" ;
    rdfs:comment "Method to verify action completion" ;
    rdfs:domain rules:RuleAction ;
    rdfs:range xsd:string .

rules:userDataStep a owl:DatatypeProperty ;
    rdfs:label "user data step" ;
    rdfs:comment "Step for user data handling" ;
    rdfs:domain rules:UserAction ;
    rdfs:range xsd:string .

rules:affectedDataCategory a owl:DatatypeProperty ;
    rdfs:label "affected data category" ;
    rdfs:comment "Data category affected by user action" ;
    rdfs:domain rules:UserAction ;
    rdfs:range xsd:string .

rules:userVerificationStep a owl:DatatypeProperty ;
    rdfs:label "user verification step" ;
    rdfs:comment "Step for user to verify completion" ;
    rdfs:domain rules:UserAction ;
    rdfs:range xsd:string .

rules:applicableCountries a owl:DatatypeProperty ;
    rdfs:label "applicable countries" ;
    rdfs:comment "Countries where action applies" ;
    rdfs:domain rules:RuleAction ;
    rdfs:range xsd:string .

# Condition Properties
rules:fact a owl:DatatypeProperty ;
    rdfs:label "fact" ;
    rdfs:comment "The fact/data point to evaluate" ;
    rdfs:domain rules:RuleCondition ;
    rdfs:range xsd:string .

rules:operator a owl:DatatypeProperty ;
    rdfs:label "operator" ;
    rdfs:comment "Comparison operator as string" ;
    rdfs:domain rules:RuleCondition ;
    rdfs:range xsd:string .

rules:value a owl:DatatypeProperty ;
    rdfs:label "value" ;
    rdfs:comment "Value to compare against" ;
    rdfs:domain rules:RuleCondition .

rules:path a owl:DatatypeProperty ;
    rdfs:label "path" ;
    rdfs:comment "JSONPath for nested object navigation" ;
    rdfs:domain rules:RuleCondition ;
    rdfs:range xsd:string .

rules:reasoning a owl:DatatypeProperty ;
    rdfs:label "reasoning" ;
    rdfs:comment "LLM reasoning for condition extraction" ;
    rdfs:domain rules:RuleCondition ;
    rdfs:range xsd:string .

# Event Properties
rules:eventType a owl:DatatypeProperty ;
    rdfs:label "event type" ;
    rdfs:comment "Type of event triggered" ;
    rdfs:domain rules:RuleEvent ;
    rdfs:range xsd:string .

rules:eventParams a owl:DatatypeProperty ;
    rdfs:label "event params" ;
    rdfs:comment "Event parameters as JSON string" ;
    rdfs:domain rules:RuleEvent ;
    rdfs:range xsd:string .

# Logic Properties
rules:logicType a owl:DatatypeProperty ;
    rdfs:label "logic type" ;
    rdfs:comment "Type of decision logic (all/any/not)" ;
    rdfs:domain rules:DecisionLogic ;
    rdfs:range xsd:string .

# Document Properties
rules:chunkReference a owl:DatatypeProperty ;
    rdfs:label "chunk reference" ;
    rdfs:comment "Reference to source chunk if document was chunked" ;
    rdfs:range xsd:string .

rules:documentLevel a owl:DatatypeProperty ;
    rdfs:label "document level" ;
    rdfs:comment "Document level as string" ;
    rdfs:range xsd:string .

# DocumentChunk Properties  
rules:content a owl:DatatypeProperty ;
    rdfs:label "content" ;
    rdfs:comment "Content of the document chunk" ;
    rdfs:domain rules:DocumentChunk ;
    rdfs:range xsd:string .

rules:chunkIndex a owl:DatatypeProperty ;
    rdfs:label "chunk index" ;
    rdfs:comment "Index of the chunk" ;
    rdfs:domain rules:DocumentChunk ;
    rdfs:range xsd:integer .

rules:totalChunks a owl:DatatypeProperty ;
    rdfs:label "total chunks" ;
    rdfs:comment "Total number of chunks" ;
    rdfs:domain rules:DocumentChunk ;
    rdfs:range xsd:integer .

rules:startPos a owl:DatatypeProperty ;
    rdfs:label "start position" ;
    rdfs:comment "Start position in original document" ;
    rdfs:domain rules:DocumentChunk ;
    rdfs:range xsd:integer .

rules:endPos a owl:DatatypeProperty ;
    rdfs:label "end position" ;
    rdfs:comment "End position in original document" ;
    rdfs:domain rules:DocumentChunk ;
    rdfs:range xsd:integer .

rules:chunkId a owl:DatatypeProperty ;
    rdfs:label "chunk ID" ;
    rdfs:comment "Unique chunk identifier" ;
    rdfs:domain rules:DocumentChunk ;
    rdfs:range xsd:string .

# CountryMetadata Properties
rules:country a owl:DatatypeProperty ;
    rdfs:label "country" ;
    rdfs:comment "Applicable country" ;
    rdfs:domain rules:CountryMetadata ;
    rdfs:range xsd:string .

rules:adequacyCountry a owl:DatatypeProperty ;
    rdfs:label "adequacy country" ;
    rdfs:comment "Adequacy decision country" ;
    rdfs:domain rules:CountryMetadata ;
    rdfs:range xsd:string .

rules:fileLevel1 a owl:DatatypeProperty ;
    rdfs:label "file level 1" ;
    rdfs:comment "Level 1 document (actual legislation)" ;
    rdfs:domain rules:CountryMetadata ;
    rdfs:range xsd:string .

rules:fileLevel2 a owl:DatatypeProperty ;
    rdfs:label "file level 2" ;
    rdfs:comment "Level 2 document (regulator guidance)" ;
    rdfs:domain rules:CountryMetadata ;
    rdfs:range xsd:string .

rules:fileLevel3 a owl:DatatypeProperty ;
    rdfs:label "file level 3" ;
    rdfs:comment "Level 3 document (additional guidance)" ;
    rdfs:domain rules:CountryMetadata ;
    rdfs:range xsd:string .

# Additional Rule Properties
rules:sourceDocuments a owl:DatatypeProperty ;
    rdfs:label "source documents" ;
    rdfs:comment "Source documents by level as JSON string" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range xsd:string .

rules:processingMetadata a owl:DatatypeProperty ;
    rdfs:label "processing metadata" ;
    rdfs:comment "Processing metadata including chunking info as JSON string" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range xsd:string .

# Role and Category as String Properties (for enum values)
rules:dataDomain a owl:DatatypeProperty ;
    rdfs:label "data domain" ;
    rdfs:comment "Data domain as string" ;
    rdfs:domain rules:RuleCondition ;
    rdfs:range xsd:string .

rules:role a owl:DatatypeProperty ;
    rdfs:label "role" ;
    rdfs:comment "Role as string" ;
    rdfs:domain rules:RuleCondition ;
    rdfs:range xsd:string .

rules:primaryImpactedRole a owl:DatatypeProperty ;
    rdfs:label "primary impacted role" ;
    rdfs:comment "Primary role impacted by rule" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range xsd:string .

rules:secondaryImpactedRole a owl:DatatypeProperty ;
    rdfs:label "secondary impacted role" ;
    rdfs:comment "Secondary role impacted by rule" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range xsd:string .

rules:dataCategory a owl:DatatypeProperty ;
    rdfs:label "data category" ;
    rdfs:comment "Data category as string" ;
    rdfs:domain rules:LegislationRule ;
    rdfs:range xsd:string .

# ExtractionResult Properties
rules:summary a owl:DatatypeProperty ;
    rdfs:label "summary" ;
    rdfs:comment "Summary of extraction" ;
    rdfs:domain rules:ExtractionResult ;
    rdfs:range xsd:string .

rules:totalRules a owl:DatatypeProperty ;
    rdfs:label "total rules" ;
    rdfs:comment "Total number of rules extracted" ;
    rdfs:domain rules:ExtractionResult ;
    rdfs:range xsd:integer .

rules:totalActions a owl:DatatypeProperty ;
    rdfs:label "total actions" ;
    rdfs:comment "Total number of rule actions extracted" ;
    rdfs:domain rules:ExtractionResult ;
    rdfs:range xsd:integer .

rules:totalUserActions a owl:DatatypeProperty ;
    rdfs:label "total user actions" ;
    rdfs:comment "Total number of user actions extracted" ;
    rdfs:domain rules:ExtractionResult ;
    rdfs:range xsd:integer .

rules:processingTime a owl:DatatypeProperty ;
    rdfs:label "processing time" ;
    rdfs:comment "Processing time in seconds" ;
    rdfs:domain rules:ExtractionResult ;
    rdfs:range xsd:float .

rules:embeddings a owl:DatatypeProperty ;
    rdfs:label "embeddings" ;
    rdfs:comment "Rule embeddings as JSON string" ;
    rdfs:domain rules:ExtractionResult ;
    rdfs:range xsd:string .

rules:documentsProcessed a owl:DatatypeProperty ;
    rdfs:label "documents processed" ;
    rdfs:comment "Documents processed by level as JSON string" ;
    rdfs:domain rules:ExtractionResult ;
    rdfs:range xsd:string .

rules:chunkingMetadata a owl:DatatypeProperty ;
    rdfs:label "chunking metadata" ;
    rdfs:comment "Information about document chunking as JSON string" ;
    rdfs:domain rules:ExtractionResult ;
    rdfs:range xsd:string .

# IntegratedRule Properties
rules:sourceLegislation a owl:DatatypeProperty ;
    rdfs:label "source legislation" ;
    rdfs:comment "Source legislation reference" ;
    rdfs:domain rules:IntegratedRule ;
    rdfs:range xsd:string .

rules:sourceDocumentLevels a owl:DatatypeProperty ;
    rdfs:label "source document levels" ;
    rdfs:comment "Document levels processed" ;
    rdfs:domain rules:IntegratedRule ;
    rdfs:range xsd:string .

rules:chunkReferences a owl:DatatypeProperty ;
    rdfs:label "chunk references" ;
    rdfs:comment "Chunk references if document was chunked" ;
    rdfs:domain rules:IntegratedRule ;
    rdfs:range xsd:string .

# ODRE Properties
rules:odre_enforceable a owl:DatatypeProperty ;
    rdfs:label "ODRE enforceable" ;
    rdfs:comment "ODRE enforceable flag" ;
    rdfs:domain rules:IntegratedRule ;
    rdfs:range xsd:boolean .

rules:odre_enforcement_mode a owl:DatatypeProperty ;
    rdfs:label "ODRE enforcement mode" ;
    rdfs:comment "ODRE enforcement mode" ;
    rdfs:domain rules:IntegratedRule ;
    rdfs:range xsd:string .

rules:odre_action_inference a owl:DatatypeProperty ;
    rdfs:label "ODRE action inference" ;
    rdfs:comment "ODRE action inference enabled" ;
    rdfs:domain rules:IntegratedRule ;
    rdfs:range xsd:boolean .

rules:odre_user_action_inference a owl:DatatypeProperty ;
    rdfs:label "ODRE user action inference" ;
    rdfs:comment "ODRE user action inference enabled" ;
    rdfs:domain rules:IntegratedRule ;
    rdfs:range xsd:boolean .

# ODRL Properties (as JSON strings)
rules:odrl_permission a owl:DatatypeProperty ;
    rdfs:label "ODRL permission" ;
    rdfs:comment "ODRL permissions as JSON string" ;
    rdfs:domain rules:IntegratedRule ;
    rdfs:range xsd:string .

rules:odrl_prohibition a owl:DatatypeProperty ;
    rdfs:label "ODRL prohibition" ;
    rdfs:comment "ODRL prohibitions as JSON string" ;
    rdfs:domain rules:IntegratedRule ;
    rdfs:range xsd:string .

rules:odrl_obligation a owl:DatatypeProperty ;
    rdfs:label "ODRL obligation" ;
    rdfs:comment "ODRL obligations as JSON string" ;
    rdfs:domain rules:IntegratedRule ;
    rdfs:range xsd:string .

# Configuration Properties
rules:chunkSize a owl:DatatypeProperty ;
    rdfs:label "chunk size" ;
    rdfs:comment "Characters per chunk for large documents" ;
    rdfs:range xsd:integer .

rules:overlapSize a owl:DatatypeProperty ;
    rdfs:label "overlap size" ;
    rdfs:comment "Character overlap between chunks" ;
    rdfs:range xsd:integer .

rules:maxFileSize a owl:DatatypeProperty ;
    rdfs:label "max file size" ;
    rdfs:comment "File size threshold for chunking" ;
    rdfs:range xsd:integer .

# =============================================================================
# ENUMERATION INDIVIDUALS - COMPLETE SET
# =============================================================================

# Data Domains
rules:DataTransfer a rules:DataDomain ;
    rdfs:label "Data Transfer" ;
    rdfs:comment "Data transfer operations" ;
    skos:notation "data_transfer" .

rules:DataUsage a rules:DataDomain ;
    rdfs:label "Data Usage" ;
    rdfs:comment "Data usage operations" ;
    skos:notation "data_usage" .

rules:DataStorage a rules:DataDomain ;
    rdfs:label "Data Storage" ;
    rdfs:comment "Data storage operations" ;
    skos:notation "data_storage" .

rules:DataCollection a rules:DataDomain ;
    rdfs:label "Data Collection" ;
    rdfs:comment "Data collection operations" ;
    skos:notation "data_collection" .

rules:DataDeletion a rules:DataDomain ;
    rdfs:label "Data Deletion" ;
    rdfs:comment "Data deletion operations" ;
    skos:notation "data_deletion" .

# Data Roles
rules:Controller a rules:DataRole ;
    rdfs:label "Controller" ;
    rdfs:comment "Data controller role" ;
    skos:notation "controller" ;
    owl:sameAs dpv:DataController .

rules:Processor a rules:DataRole ;
    rdfs:label "Processor" ;
    rdfs:comment "Data processor role" ;
    skos:notation "processor" ;
    owl:sameAs dpv:DataProcessor .

rules:JointController a rules:DataRole ;
    rdfs:label "Joint Controller" ;
    rdfs:comment "Joint data controller role" ;
    skos:notation "joint_controller" ;
    owl:sameAs dpv:JointDataControllers .

rules:DataSubject a rules:DataRole ;
    rdfs:label "Data Subject" ;
    rdfs:comment "Data subject role" ;
    skos:notation "data_subject" ;
    owl:sameAs dpv:DataSubject .

# Data Categories
rules:PersonalData a rules:DataCategory ;
    rdfs:label "Personal Data" ;
    rdfs:comment "General personal data" ;
    skos:notation "personal_data" ;
    owl:sameAs dpv:PersonalData .

rules:SensitiveData a rules:DataCategory ;
    rdfs:label "Sensitive Data" ;
    rdfs:comment "Special categories of personal data" ;
    skos:notation "sensitive_data" ;
    owl:sameAs dpv:SensitivePersonalData .

rules:BiometricData a rules:DataCategory ;
    rdfs:label "Biometric Data" ;
    rdfs:comment "Biometric identifiers" ;
    skos:notation "biometric_data" ;
    owl:sameAs dpv-pd:Biometric .

rules:HealthData a rules:DataCategory ;
    rdfs:label "Health Data" ;
    rdfs:comment "Health and medical data" ;
    skos:notation "health_data" ;
    owl:sameAs dpv-pd:Health .

rules:FinancialData a rules:DataCategory ;
    rdfs:label "Financial Data" ;
    rdfs:comment "Financial and payment data" ;
    skos:notation "financial_data" ;
    owl:sameAs dpv-pd:Financial .

rules:LocationData a rules:DataCategory ;
    rdfs:label "Location Data" ;
    rdfs:comment "Location and tracking data" ;
    skos:notation "location_data" ;
    owl:sameAs dpv-pd:Location .

rules:BehavioralData a rules:DataCategory ;
    rdfs:label "Behavioral Data" ;
    rdfs:comment "Behavioral profiling data" ;
    skos:notation "behavioral_data" ;
    owl:sameAs dpv-pd:Behavioral .

rules:IdentificationData a rules:DataCategory ;
    rdfs:label "Identification Data" ;
    rdfs:comment "Identity verification data" ;
    skos:notation "identification_data" ;
    owl:sameAs dpv-pd:Identifying .

# Condition Operators
rules:Equal a rules:ConditionOperator ;
    rdfs:label "Equal" ;
    rdfs:comment "Equality operator" ;
    skos:notation "equal" .

rules:NotEqual a rules:ConditionOperator ;
    rdfs:label "Not Equal" ;
    rdfs:comment "Inequality operator" ;
    skos:notation "notEqual" .

rules:GreaterThan a rules:ConditionOperator ;
    rdfs:label "Greater Than" ;
    rdfs:comment "Greater than operator" ;
    skos:notation "greaterThan" .

rules:LessThan a rules:ConditionOperator ;
    rdfs:label "Less Than" ;
    rdfs:comment "Less than operator" ;
    skos:notation "lessThan" .

rules:GreaterThanEqual a rules:ConditionOperator ;
    rdfs:label "Greater Than Equal" ;
    rdfs:comment "Greater than or equal operator" ;
    skos:notation "greaterThanInclusive" .

rules:LessThanEqual a rules:ConditionOperator ;
    rdfs:label "Less Than Equal" ;
    rdfs:comment "Less than or equal operator" ;
    skos:notation "lessThanInclusive" .

rules:Contains a rules:ConditionOperator ;
    rdfs:label "Contains" ;
    rdfs:comment "Contains operator" ;
    skos:notation "contains" .

rules:NotContains a rules:ConditionOperator ;
    rdfs:label "Not Contains" ;
    rdfs:comment "Does not contain operator" ;
    skos:notation "doesNotContain" .

rules:In a rules:ConditionOperator ;
    rdfs:label "In" ;
    rdfs:comment "In operator" ;
    skos:notation "in" .

rules:NotIn a rules:ConditionOperator ;
    rdfs:label "Not In" ;
    rdfs:comment "Not in operator" ;
    skos:notation "notIn" .

# Document Levels
rules:Level1 a rules:DocumentLevel ;
    rdfs:label "Level 1" ;
    rdfs:comment "Actual legislation document" ;
    skos:notation "level_1" .

rules:Level2 a rules:DocumentLevel ;
    rdfs:label "Level 2" ;
    rdfs:comment "Regulator guidance document" ;
    skos:notation "level_2" .

rules:Level3 a rules:DocumentLevel ;
    rdfs:label "Level 3" ;
    rdfs:comment "Additional guidance document" ;
    skos:notation "level_3" .

# Processing Purposes
rules:ConsentPurpose a rules:ProcessingPurpose ;
    rdfs:label "Consent" ;
    rdfs:comment "Processing based on consent" ;
    skos:notation "consent" ;
    owl:sameAs dpv:Consent .

rules:ContractualNecessity a rules:ProcessingPurpose ;
    rdfs:label "Contractual Necessity" ;
    rdfs:comment "Processing necessary for contract performance" ;
    skos:notation "contractual_necessity" ;
    owl:sameAs dpv:ContractualNecessity .

rules:LegalObligationPurpose a rules:ProcessingPurpose ;
    rdfs:label "Legal Obligation" ;
    rdfs:comment "Processing to comply with legal obligation" ;
    skos:notation "legal_obligation" ;
    owl:sameAs dpv:LegalObligation .

rules:VitalInterestsPurpose a rules:ProcessingPurpose ;
    rdfs:label "Vital Interests" ;
    rdfs:comment "Processing to protect vital interests" ;
    skos:notation "vital_interests" ;
    owl:sameAs dpv:VitalInterests .

rules:PublicTaskPurpose a rules:ProcessingPurpose ;
    rdfs:label "Public Task" ;
    rdfs:comment "Processing for public task or official authority" ;
    skos:notation "public_task" ;
    owl:sameAs dpv:PublicTask .

rules:LegitimateInterestsPurpose a rules:ProcessingPurpose ;
    rdfs:label "Legitimate Interests" ;
    rdfs:comment "Processing based on legitimate interests" ;
    skos:notation "legitimate_interests" ;
    owl:sameAs dpv:LegitimateInterests .

# Legal Basis
rules:ConsentBasis a rules:LegalBasis ;
    rdfs:label "Consent" ;
    rdfs:comment "Legal basis: consent" ;
    skos:notation "consent" ;
    owl:sameAs dpv:Consent .

rules:ContractualObligationBasis a rules:LegalBasis ;
    rdfs:label "Contractual Obligation" ;
    rdfs:comment "Legal basis: contractual obligation" ;
    skos:notation "contractual_obligation" ;
    owl:sameAs dpv:ContractualObligation .

rules:LegalObligationBasis a rules:LegalBasis ;
    rdfs:label "Legal Obligation" ;
    rdfs:comment "Legal basis: legal obligation" ;
    skos:notation "legal_obligation" ;
    owl:sameAs dpv:LegalObligation .

rules:VitalInterestsBasis a rules:LegalBasis ;
    rdfs:label "Vital Interests" ;
    rdfs:comment "Legal basis: vital interests" ;
    skos:notation "vital_interests" ;
    owl:sameAs dpv:VitalInterests .

rules:PublicInterestBasis a rules:LegalBasis ;
    rdfs:label "Public Interest" ;
    rdfs:comment "Legal basis: public interest or official authority" ;
    skos:notation "public_interest_official_authority" ;
    owl:sameAs dpv:PublicInterestOfficialAuthority .

rules:LegitimateInterestsBasis a rules:LegalBasis ;
    rdfs:label "Legitimate Interests" ;
    rdfs:comment "Legal basis: legitimate interests" ;
    skos:notation "legitimate_interests" ;
    owl:sameAs dpv:LegitimateInterests .

# Processing Operations (from DPVConcepts)
rules:Collect a rules:ProcessingOperation ;
    rdfs:label "Collect" ;
    rdfs:comment "Data collection operation" ;
    skos:notation "collect" ;
    owl:sameAs dpv:Collect .

rules:Store a rules:ProcessingOperation ;
    rdfs:label "Store" ;
    rdfs:comment "Data storage operation" ;
    skos:notation "store" ;
    owl:sameAs dpv:Store .

rules:Use a rules:ProcessingOperation ;
    rdfs:label "Use" ;
    rdfs:comment "Data usage operation" ;
    skos:notation "use" ;
    owl:sameAs dpv:Use .

rules:Share a rules:ProcessingOperation ;
    rdfs:label "Share" ;
    rdfs:comment "Data sharing operation" ;
    skos:notation "share" ;
    owl:sameAs dpv:Share .

rules:Transfer a rules:ProcessingOperation ;
    rdfs:label "Transfer" ;
    rdfs:comment "Data transfer operation" ;
    skos:notation "transfer" ;
    owl:sameAs dpv:Transfer .

rules:Delete a rules:ProcessingOperation ;
    rdfs:label "Delete" ;
    rdfs:comment "Data deletion operation" ;
    skos:notation "delete" ;
    owl:sameAs dpv:Erase .

rules:Process a rules:ProcessingOperation ;
    rdfs:label "Process" ;
    rdfs:comment "General data processing operation" ;
    skos:notation "process" ;
    owl:sameAs dpv:Process .

rules:Access a rules:ProcessingOperation ;
    rdfs:label "Access" ;
    rdfs:comment "Data access operation" ;
    skos:notation "access" ;
    owl:sameAs dpv:Access .

# =============================================================================
# ANNOTATION PROPERTIES
# =============================================================================

rules:extractionSource a owl:AnnotationProperty ;
    rdfs:label "extraction source" ;
    rdfs:comment "Source of extracted information" .

rules:chunkingInfo a owl:AnnotationProperty ;
    rdfs:label "chunking info" ;
    rdfs:comment "Information about document chunking" .

rules:aiConfidence a owl:AnnotationProperty ;
    rdfs:label "AI confidence" ;
    rdfs:comment "AI extraction confidence level" .

rules:llmReasoning a owl:AnnotationProperty ;
    rdfs:label "LLM reasoning" ;
    rdfs:comment "Large language model reasoning for extraction" .

rules:validationStatus a owl:AnnotationProperty ;
    rdfs:label "validation status" ;
    rdfs:comment "Validation status of extracted element" .

rules:expertVerification a owl:AnnotationProperty ;
    rdfs:label "expert verification" ;
    rdfs:comment "Expert verification status" .

rules:dualActionInference a owl:AnnotationProperty ;
    rdfs:label "dual action inference" ;
    rdfs:comment "Indicates dual action inference was used" .

rules:comprehensiveAnalysis a owl:AnnotationProperty ;
    rdfs:label "comprehensive analysis" ;
    rdfs:comment "Indicates comprehensive document analysis was performed" .

rules:antiHallucination a owl:AnnotationProperty ;
    rdfs:label "anti-hallucination" ;
    rdfs:comment "Anti-hallucination measures applied" .

# =============================================================================
# PROPERTY RESTRICTIONS AND CONSTRAINTS
# =============================================================================

rules:LegislationRule rdfs:subClassOf [
    a owl:Restriction ;
    owl:onProperty rules:hasDecisionLogic ;
    owl:minCardinality 1
] .

rules:LegislationRule rdfs:subClassOf [
    a owl:Restriction ;
    owl:onProperty rules:ruleId ;
    owl:cardinality 1
] .

rules:LegislationRule rdfs:subClassOf [
    a owl:Restriction ;
    owl:onProperty rules:sourceArticle ;
    owl:cardinality 1
] .

rules:DecisionLogic rdfs:subClassOf [
    a owl:Restriction ;
    owl:onProperty rules:hasCondition ;
    owl:minCardinality 1
] .

rules:RuleCondition rdfs:subClassOf [
    a owl:Restriction ;
    owl:onProperty rules:fact ;
    owl:cardinality 1
] .

rules:RuleCondition rdfs:subClassOf [
    a owl:Restriction ;
    owl:onProperty rules:hasOperator ;
    owl:cardinality 1
] .

rules:RuleAction rdfs:subClassOf [
    a owl:Restriction ;
    owl:onProperty rules:actionType ;
    owl:cardinality 1
] .

rules:UserAction rdfs:subClassOf [
    a owl:Restriction ;
    owl:onProperty rules:actionType ;
    owl:cardinality 1
] .

rules:DocumentChunk rdfs:subClassOf [
    a owl:Restriction ;
    owl:onProperty rules:chunkIndex ;
    owl:cardinality 1
] .

rules:CountryMetadata rdfs:subClassOf [
    a owl:Restriction ;
    owl:onProperty rules:country ;
    owl:minCardinality 1
] .

# =============================================================================
# EQUIVALENCES AND ALIGNMENTS
# =============================================================================

# Align with DPV
rules:DataRole owl:equivalentClass dpv:LegalRole .
rules:DataCategory owl:equivalentClass dpv:PersonalData .
rules:ProcessingPurpose owl:equivalentClass dpv:Purpose .
rules:LegalBasis owl:equivalentClass dpv:LegalBasis .
rules:ProcessingOperation owl:equivalentClass dpv:Processing .

# Align with ODRL
rules:RuleCondition rdfs:subClassOf odrl:Constraint .
rules:RuleAction rdfs:subClassOf odrl:Action .
rules:UserAction rdfs:subClassOf odrl:Action .

# Align with ODRE
rules:LegislationRule rdfs:subClassOf odre:EnforceablePolicy .
rules:IntegratedRule owl:equivalentClass odre:EnforceablePolicy .

# DPV Property Alignments
rules:dpv_hasProcessing owl:equivalentProperty dpv:hasProcessing .
rules:dpv_hasPurpose owl:equivalentProperty dpv:hasPurpose .
rules:dpv_hasPersonalData owl:equivalentProperty dpv:hasPersonalData .
rules:dpv_hasDataController owl:equivalentProperty dpv:hasDataController .
rules:dpv_hasDataProcessor owl:equivalentProperty dpv:hasDataProcessor .
rules:dpv_hasLegalBasis owl:equivalentProperty dpv:hasLegalBasis .
rules:dpv_hasLocation owl:equivalentProperty dpv:hasLocation .

# =============================================================================
# INVERSE PROPERTIES
# =============================================================================

rules:isDecisionLogicOf owl:inverseOf rules:hasDecisionLogic .
rules:isConditionOf owl:inverseOf rules:hasCondition .
rules:isRuleActionOf owl:inverseOf rules:hasRuleAction .
rules:isUserActionOf owl:inverseOf rules:hasUserAction .
rules:isEventOf owl:inverseOf rules:hasEvent .

# =============================================================================
# PROPERTY CHARACTERISTICS
# =============================================================================

rules:hasDecisionLogic a owl:FunctionalProperty .
rules:hasEvent a owl:FunctionalProperty .
rules:ruleId a owl:FunctionalProperty .
rules:name a owl:FunctionalProperty .
rules:sourceArticle a owl:FunctionalProperty .
rules:sourceFile a owl:FunctionalProperty .

# =============================================================================
# DISJOINT CLASSES
# =============================================================================

rules:RuleAction owl:disjointWith rules:UserAction .
rules:Controller owl:disjointWith rules:Processor .
rules:Controller owl:disjointWith rules:DataSubject .
rules:Processor owl:disjointWith rules:DataSubject .
rules:Level1 owl:disjointWith rules:Level2 .
rules:Level1 owl:disjointWith rules:Level3 .
rules:Level2 owl:disjointWith rules:Level3 .
