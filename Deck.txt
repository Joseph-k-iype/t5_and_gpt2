<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Data Observer Proposal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
/* 1. FLUID SWISS DESIGN SYSTEM */
:root {
    --bg-body: #f0f2f5;
    --bg-slide: #ffffff;
    --text-primary: #111111;
    --text-secondary: #555555;
    --accent-color: #ff4400; /* Slightly softer International Orange */
    --accent-soft: rgba(255, 68, 0, 0.08);
    --card-shadow: 0 20px 40px rgba(0,0,0,0.04);
    --hover-shadow: 0 25px 50px rgba(0,0,0,0.08);
    --radius-lg: 32px;
    --radius-md: 24px;
    --radius-sm: 12px;
    --chat-width: 380px;
}

* {
  box-sizing: border-box;
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

body {
  background-color: var(--bg-body);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 40px;
  margin: 0;
  min-height: 100vh;
  padding: 60px 0;
  font-family: 'Inter', sans-serif;
  -webkit-font-smoothing: antialiased;
  color: var(--text-primary);
  /* Scroll Snap for better viewing experience */
  scroll-snap-type: y mandatory; 
}

.slide-container {
  background-color: var(--bg-slide);
  /* Responsive Width & Aspect Ratio */
  width: 90%;
  max-width: 1280px;
  aspect-ratio: 16/9;
  /* Remove fixed height to allow scaling */
  /* height: 720px; */ 
  position: relative;
  overflow: hidden;
  border-radius: var(--radius-lg);
  box-shadow: 0 30px 60px rgba(0,0,0,0.05);
  display: flex;
  flex-direction: column;
  padding: 5%; /* Relative padding */
  /* Snap alignment */
  scroll-snap-align: center;
}

/* 2. TYPOGRAPHY (Scaled with Viewport units for responsiveness) */
h1, h2, h3, h4 {
    margin: 0;
    color: var(--text-primary);
    letter-spacing: -0.03em;
}

h1 {
    font-size: clamp(32px, 5vw, 82px);
    font-weight: 800;
    line-height: 0.95;
    margin-bottom: 24px;
}

h2 {
    font-size: clamp(24px, 3.5vw, 42px);
    font-weight: 700;
    margin-bottom: 30px;
}

h2 span {
    color: var(--accent-color);
}

p, li {
    font-size: clamp(14px, 1.5vw, 20px);
    line-height: 1.6;
    color: var(--text-secondary);
    font-weight: 400;
}

strong {
    font-weight: 600;
    color: var(--text-primary);
}

/* 3. UTILITIES & LAYOUTS */

.fluid-shape {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    z-index: 0;
    opacity: 0.6;
}

/* Slide 1: Title */
.title-content {
    z-index: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    height: 100%;
}

.title-badge {
    display: inline-block;
    padding: 0.5em 1em;
    background-color: var(--accent-soft);
    color: var(--accent-color);
    border-radius: 100px;
    font-weight: 600;
    text-transform: uppercase;
    font-size: clamp(10px, 1vw, 14px);
    letter-spacing: 0.05em;
    margin-bottom: 30px;
}

.title-footer {
    display: flex;
    gap: 40px;
    border-top: 1px solid rgba(0,0,0,0.1);
    padding-top: 30px;
}

/* Slide 2: Introduction (New Slide) Layout */
.intro-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 60px;
    height: 100%;
    align-items: center;
    z-index: 1;
}

.intro-card {
    padding: 30px;
    border-radius: var(--radius-md);
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.intro-card.friction {
    background-color: #fcfcfc;
    border: 1px dashed #ddd;
}

.intro-card.flow {
    background-color: var(--text-primary);
    color: white;
    box-shadow: var(--card-shadow);
}

.intro-card.flow p, .intro-card.flow h3 {
    color: white;
}

.intro-card.flow h3 span {
    color: var(--accent-color);
}


/* Slide 3: Services Cards */
.services-container {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(2, 1fr);
    gap: 20px;
    height: 100%;
}

.service-card {
    background: #fff;
    border: 1px solid #f0f0f0;
    border-radius: var(--radius-md);
    padding: 4%;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    position: relative;
    overflow: hidden;
}

.service-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--hover-shadow);
    border-color: transparent;
}

.service-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; width: 6px; height: 100%;
    background: var(--accent-color);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.service-card:hover::before {
    opacity: 1;
}

.icon-box {
    width: 50px;
    height: 50px;
    background: var(--bg-body);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-primary);
    font-size: 20px;
    margin-bottom: 20px;
}

.service-card:hover .icon-box {
    background: var(--accent-color);
    color: white;
}

/* Slide 4: Split Layout */
.split-wrapper {
    display: flex;
    height: 100%;
    gap: 40px;
    align-items: center;
}

.split-card-left {
    flex: 1;
    background-color: var(--text-primary);
    color: white;
    border-radius: var(--radius-lg);
    padding: 5%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.split-card-left h2, .split-card-left p { color: white; }
.split-card-left h2 span { color: var(--accent-color); }

.split-list-right {
    flex: 1.5;
    padding-left: 20px;
}

.budget-item {
    background: white;
    border-radius: var(--radius-md);
    padding: 20px;
    margin-bottom: 20px;
    border: 1px solid #eee;
    display: flex;
    align-items: flex-start;
    gap: 20px;
}

.budget-item:hover {
    box-shadow: var(--card-shadow);
    border-color: transparent;
}

.number-circle {
    width: 40px;
    height: 40px;
    background: var(--accent-soft);
    color: var(--accent-color);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 800;
    flex-shrink: 0;
}

/* Slide 5: Flagship */
.flagship-wrapper {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 60px;
    height: 100%;
    align-items: center;
}

.flagship-image {
    height: 100%;
    width: 100%;
    border-radius: var(--radius-lg);
    overflow: hidden;
    position: relative;
}

.flagship-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: contrast(1.1) saturate(0); 
    transition: transform 0.5s ease;
}

.flagship-image:hover img {
    transform: scale(1.05);
}

.flagship-text {
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding-right: 20px;
}

/* Slide 6: Value Columns */
.value-deck {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    height: 100%;
    margin-top: 10px;
}

.value-card {
    background: var(--bg-body);
    border-radius: var(--radius-md);
    padding: 30px;
    border: none;
}

.value-card h3 {
    font-size: clamp(18px, 2vw, 24px);
    margin-bottom: 20px;
    padding-bottom: 16px;
    border-bottom: 2px solid rgba(0,0,0,0.05);
}

.value-card ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.value-card li {
    margin-bottom: 12px;
    font-size: clamp(14px, 1.2vw, 17px);
    position: relative;
    padding-left: 20px;
}

.value-card li::before {
    content: '';
    position: absolute;
    left: 0;
    top: 10px;
    width: 6px;
    height: 6px;
    background-color: var(--accent-color);
    border-radius: 50%;
}

/* --- GEMINI AI FEATURES CSS --- */

/* 1. Live Generator */
.ai-generator-box {
    margin-top: 30px;
    background: #f8f9fa;
    border: 1px solid #e0e0e0;
    border-radius: var(--radius-md);
    padding: 20px;
}

.ai-generator-header {
    font-size: 14px;
    font-weight: 600;
    color: var(--accent-color);
    text-transform: uppercase;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.ai-input-group {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
}

.ai-input {
    flex-grow: 1;
    padding: 10px 15px;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-family: 'Inter', sans-serif;
    font-size: 14px;
}

.ai-btn {
    background-color: var(--text-primary);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 14px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.ai-btn:hover {
    background-color: var(--accent-color);
}

.ai-result {
    font-size: 14px;
    color: var(--text-secondary);
    line-height: 1.5;
    background: white;
    padding: 15px;
    border-radius: 8px;
    min-height: 80px;
    border: 1px dashed #ddd;
}

/* 2. Floating AI Companion */
.ai-fab {
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 60px;
    height: 60px;
    background-color: var(--text-primary);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    cursor: pointer;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    z-index: 1000;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.ai-fab:hover {
    transform: scale(1.1) rotate(10deg);
    background-color: var(--accent-color);
}

.chat-window {
    position: fixed;
    bottom: 100px;
    right: 30px;
    width: var(--chat-width);
    height: 500px;
    background-color: white;
    border-radius: var(--radius-md);
    box-shadow: 0 20px 60px rgba(0,0,0,0.15);
    z-index: 999;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    opacity: 0;
    pointer-events: none;
    transform: translateY(20px) scale(0.95);
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    border: 1px solid #f0f0f0;
}

.chat-window.active {
    opacity: 1;
    pointer-events: all;
    transform: translateY(0) scale(1);
}

.chat-header {
    padding: 20px;
    background-color: var(--text-primary);
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.chat-header h3 {
    color: white;
    font-size: 16px;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 0;
}

.close-chat {
    background: none;
    border: none;
    color: white;
    font-size: 20px;
    cursor: pointer;
    opacity: 0.7;
}

.close-chat:hover { opacity: 1; }

.chat-messages {
    flex-grow: 1;
    padding: 20px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 15px;
    background-color: #f9f9f9;
}

.message {
    padding: 12px 16px;
    border-radius: 18px;
    font-size: 14px;
    line-height: 1.4;
    max-width: 85%;
}

.message.bot {
    background-color: white;
    border-bottom-left-radius: 4px;
    align-self: flex-start;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    border: 1px solid #eee;
}

.message.user {
    background-color: var(--text-primary);
    color: white;
    border-bottom-right-radius: 4px;
    align-self: flex-end;
}

.chat-input-area {
    padding: 15px;
    background-color: white;
    border-top: 1px solid #eee;
    display: flex;
    gap: 10px;
}

.chat-input {
    flex-grow: 1;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 20px;
    outline: none;
    font-family: 'Inter', sans-serif;
    font-size: 14px;
}

.chat-input:focus { border-color: var(--accent-color); }

.send-btn {
    background: none;
    border: none;
    color: var(--accent-color);
    font-size: 18px;
    cursor: pointer;
    padding: 0 10px;
}

/* Loaders */
.loader {
    display: inline-block;
    width: 12px;
    height: 12px;
    border: 2px solid rgba(0,0,0,0.1);
    border-left-color: var(--accent-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

</style>
</head>
<body>

<!-- Slide 1: Title Slide -->
<div class="slide-container">
    <div class="fluid-shape" style="background: var(--accent-soft); width: 600px; height: 600px; top: -200px; right: -200px;"></div>
    
    <div class="title-content">
        <div>
            <span class="title-badge">Proposal</span>
            <h1>Project<br><span style="color: var(--accent-color)">Data Observer</span></h1>
            <p style="font-size: clamp(20px, 2.5vw, 28px); max-width: 800px; color: var(--text-primary);">
                Repurposing infrastructure into a governed, shared-service innovation platform.
            </p>
        </div>
        
        <div class="title-footer">
            <div>
                <small style="text-transform: uppercase; color: #888; font-size: 12px; font-weight: 600;">To</small>
                <div style="font-weight: 600;">Enterprise Architecture Board</div>
            </div>
            <div>
                <small style="text-transform: uppercase; color: #888; font-size: 12px; font-weight: 600;">Date</small>
                <div style="font-weight: 600;">October 26, 2025</div>
            </div>
            <div>
                 <small style="text-transform: uppercase; color: #888; font-size: 12px; font-weight: 600;">Status</small>
                <div style="color: var(--accent-color); font-weight: 600;">Restricted Internal</div>
            </div>
        </div>
    </div>
</div>

<!-- Slide 2: Introduction (The Strategic Pivot) -->
<div class="slide-container">
    <div style="margin-bottom: 20px;">
        <h2>The <span>Strategic Pivot</span></h2>
        <p>Why we need to evolve "Data Observer" from a passive tool to an active engine.</p>
    </div>
    
    <div class="intro-grid">
        <!-- Left: The Problem -->
        <div class="intro-card friction">
            <h3 style="color: var(--text-secondary); margin-bottom: 15px;"><i class="fa-solid fa-triangle-exclamation"></i> The Innovation Gap</h3>
            <ul style="list-style: none; padding: 0;">
                <li style="margin-bottom: 15px; color: var(--text-secondary); display: flex; gap: 10px;">
                    <i class="fa-solid fa-xmark" style="color: #ff4444; margin-top: 5px;"></i>
                    <span><strong>Silos:</strong> Innovation happens in fragmented pockets with no visibility.</span>
                </li>
                <li style="margin-bottom: 15px; color: var(--text-secondary); display: flex; gap: 10px;">
                    <i class="fa-solid fa-xmark" style="color: #ff4444; margin-top: 5px;"></i>
                    <span><strong>Shadow IT:</strong> Developers bypass "Red Tape" by using unauthorized cloud instances.</span>
                </li>
                <li style="margin-bottom: 15px; color: var(--text-secondary); display: flex; gap: 10px;">
                    <i class="fa-solid fa-xmark" style="color: #ff4444; margin-top: 5px;"></i>
                    <span><strong>Risk:</strong> Experiments touching production data without proper isolation.</span>
                </li>
            </ul>
        </div>

        <!-- Right: The Solution -->
        <div class="intro-card flow">
            <div class="fluid-shape" style="background: rgba(255,255,255,0.1); width: 200px; height: 200px; bottom: -50px; right: -50px;"></div>
            <h3 style="margin-bottom: 15px;"><i class="fa-solid fa-check-circle"></i> The New Mandate</h3>
            <p style="color: rgba(255,255,255,0.9); margin-bottom: 20px;">
                A sanctioned <strong>"Safe Harbor"</strong> for innovation.
            </p>
            <ul style="list-style: none; padding: 0;">
                <li style="margin-bottom: 15px; color: white; display: flex; gap: 10px;">
                    <i class="fa-solid fa-arrow-right" style="color: var(--accent-color); margin-top: 5px;"></i>
                    <span><strong>Unified:</strong> One platform for all architects & developers.</span>
                </li>
                <li style="margin-bottom: 15px; color: white; display: flex; gap: 10px;">
                    <i class="fa-solid fa-arrow-right" style="color: var(--accent-color); margin-top: 5px;"></i>
                    <span><strong>Agile:</strong> Instant access to governed resources (VMs, Graph).</span>
                </li>
                <li style="margin-bottom: 15px; color: white; display: flex; gap: 10px;">
                    <i class="fa-solid fa-arrow-right" style="color: var(--accent-color); margin-top: 5px;"></i>
                    <span><strong>Secure:</strong> Air-gapped environment with "Innovation Wallet" oversight.</span>
                </li>
            </ul>
        </div>
    </div>
</div>

<!-- Slide 3: Shared Service Ecosystem -->
<div class="slide-container">
    <div style="margin-bottom: 30px;">
        <h2>The <span>Shared Service</span> Ecosystem</h2>
        <p>A centralized, managed architecture providing on-demand compute and storage.</p>
    </div>
    
    <div class="services-container">
        <div class="service-card">
            <div class="icon-box"><i class="fa-solid fa-server"></i></div>
            <h3>Compute (VMs)</h3>
            <p><strong>Red Hat Linux & Windows Server</strong><br>On-demand, ephemeral Virtual Machines pre-hardened for enterprise security standards.</p>
        </div>
        <div class="service-card">
            <div class="icon-box"><i class="fa-solid fa-network-wired"></i></div>
            <h3>Managed VPCs</h3>
            <p><strong>Network Isolation</strong><br>Software-defined networking ensuring air-gapped security for high-risk experiments.</p>
        </div>
        <div class="service-card">
            <div class="icon-box"><i class="fa-solid fa-database"></i></div>
            <h3>Cloud SQL</h3>
            <p><strong>Relational Backbone</strong><br>Multi-tenant, managed SQL instances for transactional data needs.</p>
        </div>
        <div class="service-card">
            <div class="icon-box"><i class="fa-solid fa-circle-nodes"></i></div>
            <h3>Graph Engine</h3>
            <p><strong>Hybrid Data Modeling</strong><br>A shared cluster supporting both RDF (Governance) and Property Graph (Application) workloads.</p>
        </div>
    </div>
</div>

<!-- Slide 4: Governance & Budget -->
<div class="slide-container">
    <div class="split-wrapper">
        <div class="split-card-left">
            <div class="fluid-shape" style="background: rgba(255,255,255,0.1); width: 300px; height: 300px; bottom: -50px; left: -50px;"></div>
            <h2>Budgetary<br><span>Governance</span></h2>
            <p>Replacing "Open Checkbooks" with "Innovation Wallets". A fiscal model that enforces discipline through platform physics.</p>
        </div>
        
        <div class="split-list-right">
            <h3 style="margin-bottom: 30px;">Resource Allocation Strategy</h3>
            
            <div class="budget-item">
                <div class="number-circle">1</div>
                <div>
                    <strong>The Innovation Wallet</strong>
                    <p style="font-size: 16px; margin-top: 5px;">Every Architect/Data Scientist is provisioned a fixed budget ($X) for compute, storage, and API usage.</p>
                </div>
            </div>
            
            <div class="budget-item">
                <div class="number-circle">2</div>
                <div>
                    <strong>Approval Workflow</strong>
                    <p style="font-size: 16px; margin-top: 5px;">Budget top-ups require digital approval from Business Line Managers (GCB 3+) for strategic alignment.</p>
                </div>
            </div>
            
            <div class="budget-item">
                <div class="number-circle">3</div>
                <div>
                    <strong>Automated Oversight</strong>
                    <p style="font-size: 16px; margin-top: 5px;">Real-time alerts for high "burn rates" or unusual spikes (e.g., crypto-mining signatures).</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Slide 5: Flagship Use Case with Gemini Integration -->
<div class="slide-container">
    <div class="flagship-wrapper">
        <div class="flagship-text">
            <span class="title-badge" style="align-self: flex-start;">Flagship Use Case</span>
            <h2>The Semantic <span>Utility</span></h2>
            <p style="margin-bottom: 20px;">
                Leveraging the shared graph infrastructure to solve the "Tower of Babel" problem in data modeling.
            </p>
            
            <div style="background: var(--bg-body); padding: 25px; border-radius: var(--radius-md);">
               <div style="margin-bottom: 10px;">
                    <strong>The Solution:</strong> A centralized utility where Architects define the <em>Ontology</em> (RDF) and Developers consume it via <em>Property Graphs</em>.
                </div>
                
                <!-- GEMINI FEATURE 1: DYNAMIC GENERATOR -->
                <div class="ai-generator-box">
                    <div class="ai-generator-header">
                        <i class="fa-solid fa-wand-magic-sparkles"></i> Try it: See it in action
                    </div>
                    <div class="ai-input-group">
                        <input type="text" id="domainInput" class="ai-input" placeholder="Enter an industry (e.g., Healthcare, Logs)...">
                        <button class="ai-btn" onclick="generateUseCase()">
                            Generate
                        </button>
                    </div>
                    <div id="useCaseResult" class="ai-result">
                        <em>Enter a domain above and let Gemini generate a specific Semantic Utility example for this slide.</em>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="flagship-image">
            <img src="http://googleusercontent.com/image_collection/image_retrieval/1068299939672997907" alt="Abstract Network Graph">
            <div style="position: absolute; bottom: 0; left: 0; right: 0; padding: 20px; background: linear-gradient(transparent, rgba(0,0,0,0.7)); color: white; font-size: 14px;">
                Graph Visualization
            </div>
        </div>
    </div>
</div>

<!-- Slide 6: Strategic Value -->
<div class="slide-container">
    <div style="margin-bottom: 30px;">
        <h2>Strategic <span>Value Proposition</span></h2>
        <p>Why repurpose Data Observer? To create a sustainable engine for innovation.</p>
    </div>
    
    <div class="value-deck">
        <div class="value-card">
            <h3>For Architects</h3>
            <ul>
                <li><strong>Enforceable Governance:</strong> Ontology rules are physics, not paper policy.</li>
                <li><strong>Fiscal Visibility:</strong> Track innovation spend vs. actual progress.</li>
                <li><strong>Reduced Redundancy:</strong> Visibility into all active PoCs prevents duplication.</li>
            </ul>
        </div>
        
        <div class="value-card" style="background-color: #fff; box-shadow: var(--card-shadow);">
            <h3 style="color: var(--accent-color);">For Developers</h3>
            <ul>
                <li><strong>Agility:</strong> No procurement delays. On-demand VMs (Windows/Linux).</li>
                <li><strong>Tooling:</strong> Instant access to shared SQL and Graph services.</li>
                <li><strong>Safety:</strong> Air-gapped environment allows for failure without risk.</li>
            </ul>
        </div>
        
        <div class="value-card">
            <h3>For Data Scientists</h3>
            <ul>
                <li><strong>Scale:</strong> Access to high-memory instances via shared budget.</li>
                <li><strong>Network Effects:</strong> Feature engineering using graph relationships.</li>
                <li><strong>Experimentation:</strong> Test complex models without touching production data.</li>
            </ul>
        </div>
    </div>
</div>

<!-- GEMINI FEATURE 2: AI COMPANION FAB -->
<div class="ai-fab" onclick="toggleChat()">
    <i class="fa-solid fa-sparkles"></i>
</div>

<div class="chat-window" id="chatWindow">
    <div class="chat-header">
        <h3><i class="fa-solid fa-robot"></i> Ask the Architect</h3>
        <button class="close-chat" onclick="toggleChat()"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="chat-messages" id="chatMessages">
        <div class="message bot">
            Hello! I'm your AI companion for the Project Data Observer proposal. Ask me anything about the shared services, budget model, or the semantic utility!
        </div>
    </div>
    <div class="chat-input-area">
        <input type="text" class="chat-input" id="chatInput" placeholder="Ask a question..." onkeypress="handleEnter(event)">
        <button class="send-btn" onclick="sendMessage()"><i class="fa-solid fa-paper-plane"></i></button>
    </div>
</div>

<script type="module">
    // Gemini API Setup
    const apiKey = ""; // API Key provided by environment
    const MODEL_NAME = "gemini-2.5-flash-preview-09-2025";
    const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/${MODEL_NAME}:generateContent?key=${apiKey}`;

    // Context for the AI
    const PROPOSAL_CONTEXT = `
    This is a proposal for "Project Data Observer".
    GOAL: Repurpose existing GCP project "Data Observer" from passive monitoring to an active "Innovation Sandbox".
    CORE PHILOSOPHY: Shared Services.
    INFRASTRUCTURE: 
    1. Compute: On-demand VMs (Red Hat Linux & Windows Server).
    2. Network: Managed VPCs (Air-gapped from production).
    3. Storage: Cloud SQL (Relational), Hybrid Graph Engine (RDF + Property Graph).
    GOVERNANCE: "Innovation Wallet" model. Each user gets $X budget. Top-ups require GCB 3+ Manager approval. Alerts for high burn rate.
    FLAGSHIP USE CASE: "Semantic Utility". Architects define Ontology (RDF), Developers use Property Graphs (LPG).
    ONTOLOGY STRATEGY: Namespaces. com.group.core (Enterprise), com.group.finance (Business Line), com.group.lab (Sandbox).
    BENEFITS: Enforceable governance, agility for devs (no procurement delays), scalable compute for data scientists.
    `;

    // --- GEMINI API HELPER ---
    async function callGemini(prompt, systemInstruction = "") {
        try {
            const payload = {
                contents: [{ parts: [{ text: prompt }] }],
                // Add system instruction if needed, though for single turns usually prompt engineering suffices
                // We'll prepend context to the prompt for better reliability in this simple setup
            };
            
            const response = await fetch(API_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(payload)
            });

            if (!response.ok) throw new Error("API Error");

            const data = await response.json();
            return data.candidates?.[0]?.content?.parts?.[0]?.text || "I couldn't generate a response.";
        } catch (error) {
            console.error(error);
            return "Sorry, I'm having trouble connecting to the AI right now.";
        }
    }

    // --- FEATURE 1: USE CASE GENERATOR ---
    window.generateUseCase = async function() {
        const input = document.getElementById('domainInput');
        const resultArea = document.getElementById('useCaseResult');
        const domain = input.value.trim();

        if (!domain) return;

        resultArea.innerHTML = '<span class="loader"></span> Generating tailored example...';
        
        const prompt = `
        Context: ${PROPOSAL_CONTEXT}
        Task: Create a concise, specific example of how the "Semantic Utility" (Hybrid RDF + Property Graph) would be used in the "${domain}" industry.
        Format:
        - **Challenge:** [1 sentence]
        - **Ontology (RDF):** [1 sentence, mention a specific class like ex:Patient or ex:Part]
        - **Graph (LPG):** [1 sentence, mention a relationship like (Patient)-[:VISITED]->(Doctor)]
        Keep it very short and punchy for a presentation slide.
        `;

        const text = await callGemini(prompt);
        // Simple markdown parsing for bold
        resultArea.innerHTML = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\n/g, '<br>');
    }

    // --- FEATURE 2: CHAT COMPANION ---
    window.toggleChat = function() {
        const chat = document.getElementById('chatWindow');
        chat.classList.toggle('active');
        if(chat.classList.contains('active')) {
            document.getElementById('chatInput').focus();
        }
    }

    window.handleEnter = function(e) {
        if (e.key === 'Enter') window.sendMessage();
    }

    window.sendMessage = async function() {
        const input = document.getElementById('chatInput');
        const messages = document.getElementById('chatMessages');
        const text = input.value.trim();

        if (!text) return;

        // Add User Message
        const userDiv = document.createElement('div');
        userDiv.className = 'message user';
        userDiv.innerText = text;
        messages.appendChild(userDiv);
        
        input.value = '';
        messages.scrollTop = messages.scrollHeight;

        // Add Loading Bot Message
        const botDiv = document.createElement('div');
        botDiv.className = 'message bot';
        botDiv.innerHTML = '<span class="loader"></span>';
        messages.appendChild(botDiv);
        messages.scrollTop = messages.scrollHeight;

        // Call AI
        const prompt = `
        System Context: You are an expert Enterprise Architect presenting this proposal. Use this context: ${PROPOSAL_CONTEXT}
        User Question: ${text}
        Answer concisely and professionally. If the answer isn't in the context, use general architectural best practices but mention it's outside the specific proposal scope.
        `;

        const responseText = await callGemini(prompt);
        
        // Update Bot Message
        botDiv.innerHTML = responseText.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
        messages.scrollTop = messages.scrollHeight;
    }
</script>

</body>
</html>
